START-INSTANCE-REFRESH()                              START-INSTANCE-REFRESH()



NAME
       start-instance-refresh -

DESCRIPTION
       Starts a new instance refresh operation. An instance refresh performs a
       rolling replacement of all or some instances in an Auto Scaling  group.
       Each  instance is terminated first and then replaced, which temporarily
       reduces the capacity available within your Auto Scaling group.

       This operation is part of the instance refresh feature  in  Amazon  EC2
       Auto  Scaling,  which  helps  you update instances in your Auto Scaling
       group. This feature is helpful, for example, when you have a new AMI or
       a  new  user data script. You just need to create a new launch template
       that specifies the new AMI or user data script. Then start an  instance
       refresh  to  immediately begin the process of updating instances in the
       group.

       If the call succeeds, it creates a new instance refresh request with  a
       unique  ID that you can use to track its progress. To query its status,
       call the  DescribeInstanceRefreshes API. To describe the  instance  re-
       freshes that have already run, call the  DescribeInstanceRefreshes API.
       To cancel an instance refresh operation in progress, use the  CancelIn-
       stanceRefresh API.

       See also: AWS API Documentation

SYNOPSIS
            start-instance-refresh
          --auto-scaling-group-name <value>
          [--strategy <value>]
          [--desired-configuration <value>]
          [--preferences <value>]
          [--cli-input-json <value>]
          [--generate-cli-skeleton <value>]
          [--debug]
          [--endpoint-url <value>]
          [--no-verify-ssl]
          [--no-paginate]
          [--output <value>]
          [--query <value>]
          [--profile <value>]
          [--region <value>]
          [--version <value>]
          [--color <value>]
          [--no-sign-request]
          [--ca-bundle <value>]
          [--cli-read-timeout <value>]
          [--cli-connect-timeout <value>]

OPTIONS
       --auto-scaling-group-name (string)
          The name of the Auto Scaling group.

       --strategy (string)
          The  strategy  to use for the instance refresh. The only valid value
          is Rolling .

          A rolling update  helps  you  update  your  instances  gradually.  A
          rolling  update can fail due to failed health checks or if instances
          are on standby or are protected from scale in. If the rolling update
          process  fails,  any instances that are replaced are not rolled back
          to their previous configuration.

          Possible values:

          o Rolling

       --desired-configuration (structure)
          The desired configuration. For example,  the  desired  configuration
          can  specify  a  new launch template or a new version of the current
          launch template.

          Once the instance refresh succeeds, Amazon EC2 Auto Scaling  updates
          the  settings  of  the Auto Scaling group to reflect the new desired
          configuration.

          NOTE:
              When you specify a new launch template or a new version  of  the
              current launch template for your desired configuration, consider
              enabling the SkipMatching property in preferences. If  it's  en-
              abled,  Amazon  EC2  Auto Scaling skips replacing instances that
              already use the specified launch template and version. This  can
              help  you reduce the number of replacements that are required to
              apply updates.

          LaunchTemplate -> (structure)
              Describes the launch template and the version of the launch tem-
              plate that Amazon EC2 Auto Scaling uses to launch Amazon EC2 in-
              stances. For more information about launch templates, see Launch
              templates in the Amazon EC2 Auto Scaling User Guide .

              LaunchTemplateId -> (string)
                 The  ID  of  the launch template. To get the template ID, use
                 the Amazon EC2  DescribeLaunchTemplates  API  operation.  New
                 launch   templates  can  be  created  using  the  Amazon  EC2
                 CreateLaunchTemplate API.

                 Conditional: You must specify either a LaunchTemplateId or  a
                 LaunchTemplateName .

              LaunchTemplateName -> (string)
                 The  name  of  the launch template. To get the template name,
                 use the Amazon EC2 DescribeLaunchTemplates API operation. New
                 launch   templates  can  be  created  using  the  Amazon  EC2
                 CreateLaunchTemplate API.

                 Conditional: You must specify either a LaunchTemplateId or  a
                 LaunchTemplateName .

              Version -> (string)
                 The  version  number, $Latest , or $Default . To get the ver-
                 sion       number,       use       the       Amazon       EC2
                 DescribeLaunchTemplateVersions API operation. New launch tem-
                 plate  versions  can  be  created  using   the   Amazon   EC2
                 CreateLaunchTemplateVersion  API.  If  the value is $Latest ,
                 Amazon EC2 Auto Scaling selects the  latest  version  of  the
                 launch  template  when  launching  instances. If the value is
                 $Default , Amazon EC2 Auto Scaling selects the  default  ver-
                 sion of the launch template when launching instances. The de-
                 fault value is $Default .

          MixedInstancesPolicy -> (structure)
              Use this structure to launch multiple instance types and  On-De-
              mand  Instances  and Spot Instances within a single Auto Scaling
              group.

              A mixed instances policy contains information  that  Amazon  EC2
              Auto  Scaling can use to launch instances and help optimize your
              costs. For more information, see Auto Scaling groups with multi-
              ple  instance  types and purchase options in the Amazon EC2 Auto
              Scaling User Guide .

              LaunchTemplate -> (structure)
                 One or more launch templates and the  instance  types  (over-
                 rides)  that  are  used  to  launch  EC2 instances to fulfill
                 On-Demand and Spot capacities.

                 LaunchTemplateSpecification -> (structure)
                     The launch template.

                     LaunchTemplateId -> (string)
                        The ID of the launch template. To get the template ID,
                        use  the Amazon EC2 DescribeLaunchTemplates API opera-
                        tion. New launch templates can be  created  using  the
                        Amazon EC2 CreateLaunchTemplate API.

                        Conditional:  You  must  specify  either  a LaunchTem-
                        plateId or a LaunchTemplateName .

                     LaunchTemplateName -> (string)
                        The name of the launch template. To get  the  template
                        name,  use  the Amazon EC2 DescribeLaunchTemplates API
                        operation. New launch templates can be  created  using
                        the Amazon EC2 CreateLaunchTemplate API.

                        Conditional:  You  must  specify  either  a LaunchTem-
                        plateId or a LaunchTemplateName .

                     Version -> (string)
                        The version number, $Latest , or $Default . To get the
                        version     number,     use     the     Amazon     EC2
                        DescribeLaunchTemplateVersions  API   operation.   New
                        launch template versions can be created using the Ama-
                        zon EC2 CreateLaunchTemplateVersion API. If the  value
                        is  $Latest , Amazon EC2 Auto Scaling selects the lat-
                        est version of the launch template when launching  in-
                        stances.  If  the  value is $Default , Amazon EC2 Auto
                        Scaling selects the default version of the launch tem-
                        plate  when  launching instances. The default value is
                        $Default .

                 Overrides -> (list)
                     Any properties that you specify override the same proper-
                     ties in the launch template.

                     (structure)
                        Use  this  structure to let Amazon EC2 Auto Scaling do
                        the following when the Auto Scaling group has a  mixed
                        instances policy:

                        o Override  the instance type that is specified in the
                          launch template.

                        o Use multiple instance types.

                        Specify the instance types that you  want,  or  define
                        your  instance requirements instead and let Amazon EC2
                        Auto Scaling provision the  available  instance  types
                        that  meet  your requirements. This can provide Amazon
                        EC2 Auto Scaling with a larger selection  of  instance
                        types  to  choose from when fulfilling Spot and On-De-
                        mand capacities. You can view which instance types are
                        matched  before you apply the instance requirements to
                        your Auto Scaling group.

                        After you define your instance requirements, you don't
                        have  to  keep  updating these settings to get new EC2
                        instance types automatically. Amazon EC2 Auto  Scaling
                        uses  the  instance  requirements  of the Auto Scaling
                        group to determine whether a new EC2 instance type can
                        be used.

                        InstanceType -> (string)
                            The  instance  type,  such as m3.xlarge . You must
                            specify an instance type that is supported in your
                            requested  Region and Availability Zones. For more
                            information, see  Instance  types  in  the  Amazon
                            Elastic Compute Cloud User Guide .

                            You  can  specify up to 40 instance types per Auto
                            Scaling group.

                        WeightedCapacity -> (string)
                            If you provide a list of instance  types  to  use,
                            you  can specify the number of capacity units pro-
                            vided by each instance type in  terms  of  virtual
                            CPUs,  memory, storage, throughput, or other rela-
                            tive performance characteristic. When  a  Spot  or
                            On-Demand Instance is launched, the capacity units
                            count toward the desired capacity. Amazon EC2 Auto
                            Scaling  launches  instances until the desired ca-
                            pacity is totally fulfilled, even if this  results
                            in an overage. For example, if there are two units
                            remaining to fulfill capacity, and Amazon EC2 Auto
                            Scaling can only launch an instance with a Weight-
                            edCapacity  of  five  units,   the   instance   is
                            launched,  and the desired capacity is exceeded by
                            three units. For more information, see Configuring
                            instance  weighting for Amazon EC2 Auto Scaling in
                            the Amazon EC2 Auto Scaling  User  Guide  .  Value
                            must be in the range of 1999.

                            If  you  specify  a value for WeightedCapacity for
                            one instance type, you must specify  a  value  for
                            WeightedCapacity for all of them.

                            WARNING:
                               Every Auto Scaling group has three size parame-
                               ters (DesiredCapacity , MaxSize ,  and  MinSize
                               ). Usually, you set these sizes based on a spe-
                               cific number of instances. However, if you con-
                               figure  a  mixed  instances policy that defines
                               weights for the instance types, you must  spec-
                               ify  these  sizes  with the same units that you
                               use for weighting instances.

                        LaunchTemplateSpecification -> (structure)
                            Provides a launch template for the  specified  in-
                            stance  type  or set of instance requirements. For
                            example,  some  instance  types  might  require  a
                            launch  template with a different AMI. If not pro-
                            vided, Amazon EC2 Auto  Scaling  uses  the  launch
                            template  that's  specified  in the LaunchTemplate
                            definition. For more information, see Specifying a
                            different  launch template for an instance type in
                            the Amazon EC2 Auto Scaling User Guide .

                            You can specify up to 20 launch templates per Auto
                            Scaling  group.  The launch templates specified in
                            the overrides and in the LaunchTemplate definition
                            count towards this limit.

                            LaunchTemplateId -> (string)
                               The  ID of the launch template. To get the tem-
                               plate    ID,     use     the     Amazon     EC2
                               DescribeLaunchTemplates   API   operation.  New
                               launch templates can be created using the  Ama-
                               zon EC2 CreateLaunchTemplate API.

                               Conditional:   You   must   specify   either  a
                               LaunchTemplateId or a LaunchTemplateName .

                            LaunchTemplateName -> (string)
                               The name of the launch  template.  To  get  the
                               template    name,    use    the    Amazon   EC2
                               DescribeLaunchTemplates  API   operation.   New
                               launch  templates can be created using the Ama-
                               zon EC2 CreateLaunchTemplate API.

                               Conditional:  You   must   specify   either   a
                               LaunchTemplateId or a LaunchTemplateName .

                            Version -> (string)
                               The  version number, $Latest , or $Default . To
                               get the version  number,  use  the  Amazon  EC2
                               DescribeLaunchTemplateVersions  API  operation.
                               New launch template versions can be created us-
                               ing  the Amazon EC2 CreateLaunchTemplateVersion
                               API. If the value is $Latest , Amazon EC2  Auto
                               Scaling  selects  the  latest  version  of  the
                               launch template when  launching  instances.  If
                               the value is $Default , Amazon EC2 Auto Scaling
                               selects the default version of the launch  tem-
                               plate  when  launching  instances.  The default
                               value is $Default .

                        InstanceRequirements -> (structure)
                            The instance requirements. Amazon EC2 Auto Scaling
                            uses  your  specified requirements to identify in-
                            stance types. Then, it  uses  your  On-Demand  and
                            Spot  allocation  strategies  to  launch instances
                            from these instance types.

                            You can specify up to four separate  sets  of  in-
                            stance  requirements  per Auto Scaling group. This
                            is useful for provisioning instances from  differ-
                            ent  Amazon Machine Images (AMIs) in the same Auto
                            Scaling group. To do this,  create  the  AMIs  and
                            create  a  new launch template for each AMI. Then,
                            create a compatible set of  instance  requirements
                            for each launch template.

                            NOTE:
                               If you specify InstanceRequirements , you can't
                               specify InstanceType .

                            VCpuCount -> (structure)
                               The minimum and maximum number of vCPUs for  an
                               instance type.

                               Min -> (integer)
                                   The minimum number of vCPUs.

                               Max -> (integer)
                                   The maximum number of vCPUs.

                            MemoryMiB -> (structure)
                               The  minimum  and  maximum instance memory size
                               for an instance type, in MiB.

                               Min -> (integer)
                                   The memory minimum in MiB.

                               Max -> (integer)
                                   The memory maximum in MiB.

                            CpuManufacturers -> (list)
                               Lists which specific CPU manufacturers  to  in-
                               clude.

                               o For  instance  types with Intel CPUs, specify
                                 intel .

                               o For instance types with AMD CPUs, specify amd
                                 .

                               o For  instance  types with Amazon Web Services
                                 CPUs, specify amazon-web-services .

                               NOTE:
                                   Don't confuse the CPU hardware manufacturer
                                   with  the  CPU  hardware  architecture. In-
                                   stances will be launched with a  compatible
                                   CPU  architecture  based  on the Amazon Ma-
                                   chine Image (AMI) that you specify in  your
                                   launch template.

                               Default: Any manufacturer

                               (string)

                            MemoryGiBPerVCpu -> (structure)
                               The  minimum  and  maximum amount of memory per
                               vCPU for an instance type, in GiB.

                               Default: No minimum or maximum limits

                               Min -> (double)
                                   The memory minimum in GiB.

                               Max -> (double)
                                   The memory maximum in GiB.

                            ExcludedInstanceTypes -> (list)
                               The instance types  to  exclude.  You  can  use
                               strings  with  one  or  more wild cards, repre-
                               sented by an asterisk (* ), to exclude  an  in-
                               stance  family,  type, size, or generation. The
                               following are examples: m5.8xlarge  ,  c5*.*  ,
                               m5a.* , r* , *3* .

                               For  example,  if you specify c5* , you are ex-
                               cluding the entire C5  instance  family,  which
                               includes all C5a and C5n instance types. If you
                               specify m5a.* , Amazon EC2  Auto  Scaling  will
                               exclude all the M5a instance types, but not the
                               M5n instance types.

                               NOTE:
                                   If you specify ExcludedInstanceTypes ,  you
                                   can't specify AllowedInstanceTypes .

                               Default: No excluded instance types

                               (string)

                            InstanceGenerations -> (list)
                               Indicates  whether  current or previous genera-
                               tion instance types are included.

                               o For current generation instance types,  spec-
                                 ify current . The current generation includes
                                 EC2 instance types currently recommended  for
                                 use.  This  typically includes the latest two
                                 to three generations in each instance family.
                                 For  more  information, see Instance types in
                                 the Amazon EC2 User Guide for Linux Instances
                                 .

                               o For previous generation instance types, spec-
                                 ify previous .

                               Default: Any current or previous generation

                               (string)

                            SpotMaxPricePercentageOverLowestPrice -> (integer)
                               The price protection  threshold  for  Spot  In-
                               stances.  This  is  the maximum youll pay for a
                               Spot Instance, expressed as a percentage higher
                               than  the least expensive current generation M,
                               C, or R instance type with your  specified  at-
                               tributes.  When Amazon EC2 Auto Scaling selects
                               instance types with your  attributes,  we  will
                               exclude  instance  types  whose price is higher
                               than your threshold. The parameter  accepts  an
                               integer,  which  Amazon EC2 Auto Scaling inter-
                               prets as a percentage. To turn off  price  pro-
                               tection, specify a high value, such as 999999 .

                               If  you set DesiredCapacityType to vcpu or mem-
                               ory-mib , the price protection threshold is ap-
                               plied based on the per vCPU or per memory price
                               instead of the per instance price.

                               Default: 100

                            OnDemandMaxPricePercentageOverLowestPrice ->  (in-
                            teger)
                               The  price  protection  threshold for On-Demand
                               Instances. This is the maximum youll pay for an
                               On-Demand  Instance,  expressed as a percentage
                               higher than the least expensive current genera-
                               tion  M, C, or R instance type with your speci-
                               fied attributes. When Amazon EC2  Auto  Scaling
                               selects instance types with your attributes, we
                               will exclude  instance  types  whose  price  is
                               higher  than  your threshold. The parameter ac-
                               cepts an integer, which Amazon EC2 Auto Scaling
                               interprets  as  a percentage. To turn off price
                               protection,  specify  a  high  value,  such  as
                               999999 .

                               If  you set DesiredCapacityType to vcpu or mem-
                               ory-mib , the price protection threshold is ap-
                               plied based on the per vCPU or per memory price
                               instead of the per instance price.

                               Default: 20

                            BareMetal -> (string)
                               Indicates whether bare metal instance types are
                               included, excluded, or required.

                               Default: excluded

                            BurstablePerformance -> (string)
                               Indicates  whether  burstable  performance  in-
                               stance types are  included,  excluded,  or  re-
                               quired.  For  more  information,  see Burstable
                               performance instances in the  Amazon  EC2  User
                               Guide for Linux Instances .

                               Default: excluded

                            RequireHibernateSupport -> (boolean)
                               Indicates  whether  instance types must provide
                               On-Demand Instance hibernation support.

                               Default: false

                            NetworkInterfaceCount -> (structure)
                               The minimum and maximum number of  network  in-
                               terfaces for an instance type.

                               Default: No minimum or maximum limits

                               Min -> (integer)
                                   The minimum number of network interfaces.

                               Max -> (integer)
                                   The maximum number of network interfaces.

                            LocalStorage -> (string)
                               Indicates  whether instance types with instance
                               store volumes are included,  excluded,  or  re-
                               quired.  For  more  information, see Amazon EC2
                               instance store in the Amazon EC2 User Guide for
                               Linux Instances .

                               Default: included

                            LocalStorageTypes -> (list)
                               Indicates the type of local storage that is re-
                               quired.

                               o For instance types with hard disk drive (HDD)
                                 storage, specify hdd .

                               o For  instance  types  with  solid state drive
                                 (SSD) storage, specify ssd .

                               Default: Any local storage type

                               (string)

                            TotalLocalStorageGB -> (structure)
                               The minimum and  maximum  total  local  storage
                               size for an instance type, in GB.

                               Default: No minimum or maximum limits

                               Min -> (double)
                                   The storage minimum in GB.

                               Max -> (double)
                                   The storage maximum in GB.

                            BaselineEbsBandwidthMbps -> (structure)
                               The minimum and maximum baseline bandwidth per-
                               formance for an instance  type,  in  Mbps.  For
                               more  information,  see Amazon EBSoptimized in-
                               stances in the Amazon EC2 User Guide for  Linux
                               Instances .

                               Default: No minimum or maximum limits

                               Min -> (integer)
                                   The minimum value in Mbps.

                               Max -> (integer)
                                   The maximum value in Mbps.

                            AcceleratorTypes -> (list)
                               Lists  the accelerator types that must be on an
                               instance type.

                               o For instance  types  with  GPU  accelerators,
                                 specify gpu .

                               o For  instance  types  with FPGA accelerators,
                                 specify fpga .

                               o For instance types with  inference  accelera-
                                 tors, specify inference .

                               Default: Any accelerator type

                               (string)

                            AcceleratorCount -> (structure)
                               The  minimum and maximum number of accelerators
                               (GPUs, FPGAs, or Amazon Web Services Inferentia
                               chips) for an instance type.

                               To  exclude accelerator-enabled instance types,
                               set Max to 0 .

                               Default: No minimum or maximum limits

                               Min -> (integer)
                                   The minimum value.

                               Max -> (integer)
                                   The maximum value.

                            AcceleratorManufacturers -> (list)
                               Indicates whether instance types must have  ac-
                               celerators by specific manufacturers.

                               o For instance types with NVIDIA devices, spec-
                                 ify nvidia .

                               o For instance types with AMD devices,  specify
                                 amd .

                               o For  instance  types with Amazon Web Services
                                 devices, specify amazon-web-services .

                               o For instance types with Xilinx devices, spec-
                                 ify xilinx .

                               Default: Any manufacturer

                               (string)

                            AcceleratorNames -> (list)
                               Lists  the  accelerators that must be on an in-
                               stance type.

                               o For instance types  with  NVIDIA  A100  GPUs,
                                 specify a100 .

                               o For  instance  types  with  NVIDIA V100 GPUs,
                                 specify v100 .

                               o For instance  types  with  NVIDIA  K80  GPUs,
                                 specify k80 .

                               o For instance types with NVIDIA T4 GPUs, spec-
                                 ify t4 .

                               o For instance  types  with  NVIDIA  M60  GPUs,
                                 specify m60 .

                               o For  instance  types with AMD Radeon Pro V520
                                 GPUs, specify radeon-pro-v520 .

                               o For instance types with  Xilinx  VU9P  FPGAs,
                                 specify vu9p .

                               Default: Any accelerator

                               (string)

                            AcceleratorTotalMemoryMiB -> (structure)
                               The  minimum  and maximum total memory size for
                               the accelerators on an instance type, in MiB.

                               Default: No minimum or maximum limits

                               Min -> (integer)
                                   The memory minimum in MiB.

                               Max -> (integer)
                                   The memory maximum in MiB.

                            NetworkBandwidthGbps -> (structure)
                               The minimum and maximum amount of network band-
                               width, in gigabits per second (Gbps).

                               Default: No minimum or maximum limits

                               Min -> (double)
                                   The minimum amount of network bandwidth, in
                                   gigabits per second (Gbps).

                               Max -> (double)
                                   The maximum amount of network bandwidth, in
                                   gigabits per second (Gbps).

                            AllowedInstanceTypes -> (list)
                               The  instance types to apply your specified at-
                               tributes against. All other instance types  are
                               ignored,  even if they match your specified at-
                               tributes.

                               You can use  strings  with  one  or  more  wild
                               cards,  represented by an asterisk (* ), to al-
                               low an instance type, size, or generation.  The
                               following  are  examples:  m5.8xlarge , c5*.* ,
                               m5a.* , r* , *3* .

                               For example, if you specify c5*  ,  Amazon  EC2
                               Auto  Scaling will allow the entire C5 instance
                               family, which includes all C5a and C5n instance
                               types.  If  you specify m5a.* , Amazon EC2 Auto
                               Scaling will allow all the M5a instance  types,
                               but not the M5n instance types.

                               NOTE:
                                   If  you  specify AllowedInstanceTypes , you
                                   can't specify ExcludedInstanceTypes .

                               Default: All instance types

                               (string)

              InstancesDistribution -> (structure)
                 The instances distribution.

                 OnDemandAllocationStrategy -> (string)
                     The allocation strategy to apply to  your  On-Demand  In-
                     stances  when  they are launched. Possible instance types
                     are determined by the launch template overrides that  you
                     specify.

                     The following lists the valid values:
                        lowest-price

                     Uses  price  to  determine  which  instance types are the
                     highest priority, launching the  lowest  priced  instance
                     types  within an Availability Zone first. This is the de-
                     fault value for Auto Scaling  groups  that  specify   In-
                     stanceRequirements .
                        prioritized

                     You  set  the order of instance types for the launch tem-
                     plate overrides from highest  to  lowest  priority  (from
                     first  to  last  in  the  list).  Amazon EC2 Auto Scaling
                     launches your highest priority instance types  first.  If
                     all  your  On-Demand  capacity  cannot be fulfilled using
                     your highest priority instance type, then Amazon EC2 Auto
                     Scaling  launches the remaining capacity using the second
                     priority instance type, and so on. This  is  the  default
                     value  for  Auto  Scaling  groups that don't specify  In-
                     stanceRequirements and cannot be used for groups that do.

                 OnDemandBaseCapacity -> (integer)
                     The minimum amount of the Auto Scaling  group's  capacity
                     that  must be fulfilled by On-Demand Instances. This base
                     portion is launched first as your group scales.

                     This number has the  same  unit  of  measurement  as  the
                     group's  desired capacity. If you change the default unit
                     of  measurement  (number  of  instances)  by   specifying
                     weighted  capacity  values  in your launch template over-
                     rides list, or by changing the default  desired  capacity
                     type  setting  of the group, you must specify this number
                     using the same unit of measurement.

                     Default: 0

                 OnDemandPercentageAboveBaseCapacity -> (integer)
                     Controls the percentages of On-Demand Instances and  Spot
                     Instances  for  your additional capacity beyond OnDemand-
                     BaseCapacity . Expressed as a  number  (for  example,  20
                     specifies  20%  On-Demand Instances, 80% Spot Instances).
                     If set to 100, only On-Demand Instances are used.

                     Default: 100

                 SpotAllocationStrategy -> (string)
                     The allocation strategy to apply to your  Spot  Instances
                     when  they  are launched. Possible instance types are de-
                     termined by the launch template overrides that you  spec-
                     ify.

                     The following lists the valid values:
                        capacity-optimized

                     Requests  Spot  Instances  using pools that are optimally
                     chosen based on the available Spot capacity. This  strat-
                     egy  has the lowest risk of interruption. To give certain
                     instance types a higher chance of  launching  first,  use
                     capacity-optimized-prioritized .
                        capacity-optimized-prioritized

                     You  set  the order of instance types for the launch tem-
                     plate overrides from highest  to  lowest  priority  (from
                     first  to last in the list). Amazon EC2 Auto Scaling hon-
                     ors the instance type priorities on a best  effort  basis
                     but optimizes for capacity first. Note that if the On-De-
                     mand allocation strategy is set to prioritized , the same
                     priority  is  applied when fulfilling On-Demand capacity.
                     This is not a valid value for Auto  Scaling  groups  that
                     specify  InstanceRequirements .
                        lowest-price

                     Requests  Spot  Instances  using  the lowest priced pools
                     within an Availability Zone, across the  number  of  Spot
                     pools  that  you  specify for the SpotInstancePools prop-
                     erty. To ensure that your desired capacity  is  met,  you
                     might  receive Spot Instances from several pools. This is
                     the default value, but it might lead to high interruption
                     rates because this strategy only considers instance price
                     and not available capacity.
                        price-capacity-optimized (recommended)

                     The price  and  capacity  optimized  allocation  strategy
                     looks  at  both price and capacity to select the Spot In-
                     stance pools that are the least likely to be  interrupted
                     and have the lowest possible price.

                 SpotInstancePools -> (integer)
                     The  number  of Spot Instance pools across which to allo-
                     cate your Spot Instances. The Spot pools  are  determined
                     from the different instance types in the overrides. Valid
                     only when the SpotAllocationStrategy  is  lowest-price  .
                     Value must be in the range of 120.

                     Default: 2

                 SpotMaxPrice -> (string)
                     The  maximum  price per unit hour that you are willing to
                     pay for a Spot Instance. If your maximum price  is  lower
                     than  the  Spot price for the instance types that you se-
                     lected, your Spot Instances are not launched. We  do  not
                     recommend  specifying a maximum price because it can lead
                     to increased interruptions. When Spot  Instances  launch,
                     you pay the current Spot price. To remove a maximum price
                     that you previously set, include the property but specify
                     an empty string ("") for the value.

                     WARNING:
                        If you specify a maximum price, your instances will be
                        interrupted more frequently than if you do not specify
                        one.

                     Valid Range: Minimum value of 0.001

       JSON Syntax:

          {
            "LaunchTemplate": {
              "LaunchTemplateId": "string",
              "LaunchTemplateName": "string",
              "Version": "string"
            },
            "MixedInstancesPolicy": {
              "LaunchTemplate": {
                "LaunchTemplateSpecification": {
                  "LaunchTemplateId": "string",
                  "LaunchTemplateName": "string",
                  "Version": "string"
                },
                "Overrides": [
                  {
                    "InstanceType": "string",
                    "WeightedCapacity": "string",
                    "LaunchTemplateSpecification": {
                      "LaunchTemplateId": "string",
                      "LaunchTemplateName": "string",
                      "Version": "string"
                    },
                    "InstanceRequirements": {
                      "VCpuCount": {
                        "Min": integer,
                        "Max": integer
                      },
                      "MemoryMiB": {
                        "Min": integer,
                        "Max": integer
                      },
                      "CpuManufacturers": ["intel"|"amd"|"amazon-web-services", ...],
                      "MemoryGiBPerVCpu": {
                        "Min": double,
                        "Max": double
                      },
                      "ExcludedInstanceTypes": ["string", ...],
                      "InstanceGenerations": ["current"|"previous", ...],
                      "SpotMaxPricePercentageOverLowestPrice": integer,
                      "OnDemandMaxPricePercentageOverLowestPrice": integer,
                      "BareMetal": "included"|"excluded"|"required",
                      "BurstablePerformance": "included"|"excluded"|"required",
                      "RequireHibernateSupport": true|false,
                      "NetworkInterfaceCount": {
                        "Min": integer,
                        "Max": integer
                      },
                      "LocalStorage": "included"|"excluded"|"required",
                      "LocalStorageTypes": ["hdd"|"ssd", ...],
                      "TotalLocalStorageGB": {
                        "Min": double,
                        "Max": double
                      },
                      "BaselineEbsBandwidthMbps": {
                        "Min": integer,
                        "Max": integer
                      },
                      "AcceleratorTypes": ["gpu"|"fpga"|"inference", ...],
                      "AcceleratorCount": {
                        "Min": integer,
                        "Max": integer
                      },
                      "AcceleratorManufacturers": ["nvidia"|"amd"|"amazon-web-services"|"xilinx", ...],
                      "AcceleratorNames": ["a100"|"v100"|"k80"|"t4"|"m60"|"radeon-pro-v520"|"vu9p", ...],
                      "AcceleratorTotalMemoryMiB": {
                        "Min": integer,
                        "Max": integer
                      },
                      "NetworkBandwidthGbps": {
                        "Min": double,
                        "Max": double
                      },
                      "AllowedInstanceTypes": ["string", ...]
                    }
                  }
                  ...
                ]
              },
              "InstancesDistribution": {
                "OnDemandAllocationStrategy": "string",
                "OnDemandBaseCapacity": integer,
                "OnDemandPercentageAboveBaseCapacity": integer,
                "SpotAllocationStrategy": "string",
                "SpotInstancePools": integer,
                "SpotMaxPrice": "string"
              }
            }
          }

       --preferences (structure)
          Set  of preferences associated with the instance refresh request. If
          not provided, the default values are used.

          MinHealthyPercentage -> (integer)
              The amount of capacity in the Auto Scaling group that must  pass
              your  group's  health checks to allow the operation to continue.
              The value is expressed as a percentage of the  desired  capacity
              of  the  Auto Scaling group (rounded up to the nearest integer).
              The default is 90 .

              Setting the minimum healthy percentage to 100 percent limits the
              rate of replacement to one instance at a time. In contrast, set-
              ting it to 0 percent has the effect of replacing  all  instances
              at the same time.

          InstanceWarmup -> (integer)
                 Not  needed if the default instance warmup is defined for the
                 group.

              The duration of the instance warmup, in seconds.

              NOTE:
                 The default is to use the  value  for  the  default  instance
                 warmup  defined  for the group. If default instance warmup is
                 null, then InstanceWarmup falls back  to  the  value  of  the
                 health check grace period.

          CheckpointPercentages -> (list)
              Threshold  values  for  each checkpoint in ascending order. Each
              number must be unique. To replace  all  instances  in  the  Auto
              Scaling group, the last number in the array must be 100 .

              For  usage  examples,  see Adding checkpoints to an instance re-
              fresh in the Amazon EC2 Auto Scaling User Guide .

              (integer)

          CheckpointDelay -> (integer)
              The amount of time, in seconds, to wait after a  checkpoint  be-
              fore continuing. This property is optional, but if you specify a
              value for it, you must also specify a value  for  CheckpointPer-
              centages  . If you specify a value for CheckpointPercentages and
              not for CheckpointDelay , the CheckpointDelay defaults  to  3600
              (1 hour).

          SkipMatching -> (boolean)
              A boolean value that indicates whether skip matching is enabled.
              If true, then Amazon EC2 Auto Scaling skips replacing  instances
              that  match  the desired configuration. If no desired configura-
              tion is specified, then it skips replacing instances  that  have
              the same configuration that is already set on the group. The de-
              fault is false .

       Shorthand Syntax:

          MinHealthyPercentage=integer,InstanceWarmup=integer,CheckpointPercentages=integer,integer,CheckpointDelay=integer,SkipMatching=boolean

       JSON Syntax:

          {
            "MinHealthyPercentage": integer,
            "InstanceWarmup": integer,
            "CheckpointPercentages": [integer, ...],
            "CheckpointDelay": integer,
            "SkipMatching": true|false
          }

       --cli-input-json (string) Performs service operation based on the  JSON
       string  provided. The JSON string follows the format provided by --gen-
       erate-cli-skeleton. If other arguments  are  provided  on  the  command
       line,  the CLI values will override the JSON-provided values. It is not
       possible to pass arbitrary binary values using a JSON-provided value as
       the string will be taken literally.

       --generate-cli-skeleton  (string)  Prints  a  JSON skeleton to standard
       output without sending an API request. If provided with no value or the
       value input, prints a sample input JSON that can be used as an argument
       for --cli-input-json. If provided with the value output,  it  validates
       the command inputs and returns a sample output JSON for that command.

GLOBAL OPTIONS
       --debug (boolean)

       Turn on debug logging.

       --endpoint-url (string)

       Override command's default URL with the given URL.

       --no-verify-ssl (boolean)

       By  default, the AWS CLI uses SSL when communicating with AWS services.
       For each SSL connection, the AWS CLI will verify SSL certificates. This
       option overrides the default behavior of verifying SSL certificates.

       --no-paginate (boolean)

       Disable automatic pagination.

       --output (string)

       The formatting style for command output.

       o json

       o text

       o table

       --query (string)

       A JMESPath query to use in filtering the response data.

       --profile (string)

       Use a specific profile from your credential file.

       --region (string)

       The region to use. Overrides config/env settings.

       --version (string)

       Display the version of this tool.

       --color (string)

       Turn on/off color output.

       o on

       o off

       o auto

       --no-sign-request (boolean)

       Do  not  sign requests. Credentials will not be loaded if this argument
       is provided.

       --ca-bundle (string)

       The CA certificate bundle to use when verifying SSL certificates. Over-
       rides config/env settings.

       --cli-read-timeout (int)

       The  maximum socket read time in seconds. If the value is set to 0, the
       socket read will be blocking and not timeout. The default value  is  60
       seconds.

       --cli-connect-timeout (int)

       The  maximum  socket connect time in seconds. If the value is set to 0,
       the socket connect will be blocking and not timeout. The default  value
       is 60 seconds.

EXAMPLES
       NOTE:
          To  use  the following examples, you must have the AWS CLI installed
          and configured. See the Getting started guide in the  AWS  CLI  User
          Guide for more information.

          Unless  otherwise  stated,  all  examples  have  unix-like quotation
          rules. These examples will need to be  adapted  to  your  terminal's
          quoting rules. See Using quotation marks with strings in the AWS CLI
          User Guide .

       Example 1: To start an instance refresh with command line parameters

       The following start-instance-refresh example starts an instance refresh
       using command line arguments. The optional preferences parameter speci-
       fies an InstanceWarmup of 400 seconds and a MinHealthyPercentage of  50
       percent.

          aws autoscaling start-instance-refresh \
              --auto-scaling-group-name my-asg \
              --preferences '{"InstanceWarmup": 400, "MinHealthyPercentage": 50}'

       Output:

          {
              "InstanceRefreshId": "08b91cf7-8fa6-48af-b6a6-d227f40f1b9b"
          }

       For  more information, see Replacing Auto Scaling instances based on an
       instance refresh in the Amazon EC2 Auto Scaling User Guide.

       Example 2: To start an instance refresh using a JSON file

       The following start-instance-refresh example starts an instance refresh
       using  a  JSON  file. You can specify the Auto Scaling group and define
       your preferences in a JSON file, as shown in the following example.

          aws autoscaling start-instance-refresh \
              --cli-input-json file://config.json

       Contents of config.json:

          {
              "AutoScalingGroupName": "my-asg",
              "Preferences": {
                  "InstanceWarmup": 400,
                  "MinHealthyPercentage": 50
              }
          }

       Output:

          {
              "InstanceRefreshId": "08b91cf7-8fa6-48af-b6a6-d227f40f1b9b"
          }

       For more information, see Replacing Auto Scaling instances based on  an
       instance refresh in the Amazon EC2 Auto Scaling User Guide.

OUTPUT
       InstanceRefreshId -> (string)
          A unique ID for tracking the progress of the request.



                                                      START-INSTANCE-REFRESH()
