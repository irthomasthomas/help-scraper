RETRIEVE-AND-GENERATE()                                RETRIEVE-AND-GENERATE()



NAME
       retrieve-and-generate -

DESCRIPTION
       Queries a knowledge base and generates responses based on the retrieved
       results. The response cites up to five sources  but  only  selects  the
       ones that are relevant to the query.

       See also: AWS API Documentation

SYNOPSIS
            retrieve-and-generate
          --input <value>
          [--retrieve-and-generate-configuration <value>]
          [--session-configuration <value>]
          [--session-id <value>]
          [--cli-input-json <value>]
          [--generate-cli-skeleton <value>]
          [--debug]
          [--endpoint-url <value>]
          [--no-verify-ssl]
          [--no-paginate]
          [--output <value>]
          [--query <value>]
          [--profile <value>]
          [--region <value>]
          [--version <value>]
          [--color <value>]
          [--no-sign-request]
          [--ca-bundle <value>]
          [--cli-read-timeout <value>]
          [--cli-connect-timeout <value>]

OPTIONS
       --input (structure)
          Contains the query to be made to the knowledge base.

          text -> (string)
              The query made to the knowledge base.

       Shorthand Syntax:

          text=string

       JSON Syntax:

          {
            "text": "string"
          }

       --retrieve-and-generate-configuration (structure)
          Contains  configurations  for the knowledge base query and retrieval
          process. For more information, see Query configurations .

          knowledgeBaseConfiguration -> (structure)
              Contains details about the resource being queried.

              generationConfiguration -> (structure)
                 Contains configurations for response generation based on  the
                 knowwledge base query results.

                 promptTemplate -> (structure)
                     Contains  the  template for the prompt that's sent to the
                     model for response generation.

                     textPromptTemplate -> (string)
                        The template for the prompt that's sent to  the  model
                        for response generation. You can include prompt place-
                        holders, which become replaced before  the  prompt  is
                        sent  to the model to provide instructions and context
                        to the model. In addition, you can include XML tags to
                        delineate meaningful sections of the prompt template.

                        For more information, see the following resources:

                        o Knowledge base prompt templates

                        o Use XML tags with Anthropic Claude models

              knowledgeBaseId -> (string)
                 The  unique  identifier of the knowledge base that is queried
                 and the foundation model used for generation.

              modelArn -> (string)
                 The ARN of the foundation model used to generate a response.

              retrievalConfiguration -> (structure)
                 Contains configurations for how to retrieve  and  return  the
                 knowledge base query.

                 vectorSearchConfiguration -> (structure)
                     Contains  details  about  how the results from the vector
                     search should be  returned.  For  more  information,  see
                     Query configurations .

                     numberOfResults -> (integer)
                        The number of source chunks to retrieve.

                     overrideSearchType -> (string)
                        By  default,  Amazon Bedrock decides a search strategy
                        for you. If you're using an Amazon OpenSearch  Server-
                        less  vector  store  that  contains  a filterable text
                        field, you can specify whether to query the  knowledge
                        base with a HYBRID search using both vector embeddings
                        and raw text, or SEMANTIC search using only vector em-
                        beddings.  For other vector store configurations, only
                        SEMANTIC search is available.  For  more  information,
                        see Test a knowledge base .

          type -> (string)
              The type of resource that is queried by the request.

       JSON Syntax:

          {
            "knowledgeBaseConfiguration": {
              "generationConfiguration": {
                "promptTemplate": {
                  "textPromptTemplate": "string"
                }
              },
              "knowledgeBaseId": "string",
              "modelArn": "string",
              "retrievalConfiguration": {
                "vectorSearchConfiguration": {
                  "numberOfResults": integer,
                  "overrideSearchType": "HYBRID"|"SEMANTIC"
                }
              }
            },
            "type": "KNOWLEDGE_BASE"
          }

       --session-configuration (structure)
          Contains details about the session with the knowledge base.

          kmsKeyArn -> (string)
              The ARN of the KMS key encrypting the session.

       Shorthand Syntax:

          kmsKeyArn=string

       JSON Syntax:

          {
            "kmsKeyArn": "string"
          }

       --session-id (string)
          The  unique  identifier of the session. Reuse the same value to con-
          tinue the same session with the knowledge base.

       --cli-input-json (string) Performs service operation based on the  JSON
       string  provided. The JSON string follows the format provided by --gen-
       erate-cli-skeleton. If other arguments  are  provided  on  the  command
       line,  the CLI values will override the JSON-provided values. It is not
       possible to pass arbitrary binary values using a JSON-provided value as
       the string will be taken literally.

       --generate-cli-skeleton  (string)  Prints  a  JSON skeleton to standard
       output without sending an API request. If provided with no value or the
       value input, prints a sample input JSON that can be used as an argument
       for --cli-input-json. If provided with the value output,  it  validates
       the command inputs and returns a sample output JSON for that command.

GLOBAL OPTIONS
       --debug (boolean)

       Turn on debug logging.

       --endpoint-url (string)

       Override command's default URL with the given URL.

       --no-verify-ssl (boolean)

       By  default, the AWS CLI uses SSL when communicating with AWS services.
       For each SSL connection, the AWS CLI will verify SSL certificates. This
       option overrides the default behavior of verifying SSL certificates.

       --no-paginate (boolean)

       Disable automatic pagination.

       --output (string)

       The formatting style for command output.

       o json

       o text

       o table

       --query (string)

       A JMESPath query to use in filtering the response data.

       --profile (string)

       Use a specific profile from your credential file.

       --region (string)

       The region to use. Overrides config/env settings.

       --version (string)

       Display the version of this tool.

       --color (string)

       Turn on/off color output.

       o on

       o off

       o auto

       --no-sign-request (boolean)

       Do  not  sign requests. Credentials will not be loaded if this argument
       is provided.

       --ca-bundle (string)

       The CA certificate bundle to use when verifying SSL certificates. Over-
       rides config/env settings.

       --cli-read-timeout (int)

       The  maximum socket read time in seconds. If the value is set to 0, the
       socket read will be blocking and not timeout. The default value  is  60
       seconds.

       --cli-connect-timeout (int)

       The  maximum  socket connect time in seconds. If the value is set to 0,
       the socket connect will be blocking and not timeout. The default  value
       is 60 seconds.

OUTPUT
       citations -> (list)
          A  list  of  segments  of  the  generated response that are based on
          sources in the  knowledge  base,  alongside  information  about  the
          sources.

          (structure)
              An object containing a segment of the generated response that is
              based on a source in the knowledge base,  alongside  information
              about the source.

              This data type is used in the following API operations:

              o Retrieve response  in the citations field

              o RetrieveAndGenerate response  in the citations field

              generatedResponsePart -> (structure)
                 Contains the generated response and metadata

                 textResponsePart -> (structure)
                     Contains  metadata  about a textual part of the generated
                     response that is accompanied by a citation.

                     span -> (structure)
                        Contains information about where the text with a cita-
                        tion begins and ends in the generated output.

                        end -> (integer)
                            Where  the text with a citation ends in the gener-
                            ated output.

                        start -> (integer)
                            Where the text with a citation starts in the  gen-
                            erated output.

                     text -> (string)
                        The  part  of the generated text that contains a cita-
                        tion.

              retrievedReferences -> (list)
                 Contains metadata about the sources cited for  the  generated
                 response.

                 (structure)
                     Contains  metadata about a source cited for the generated
                     response.

                     This data type is used in the following API operations:

                     o RetrieveAndGenerate response   in  the  retrievedRefer-
                       ences field

                     o Retrieve response  in the retrievedReferences field

                     content -> (structure)
                        Contains the cited text from the data source.

                        text -> (string)
                            The cited text from the data source.

                     location -> (structure)
                        Contains  information  about  the location of the data
                        source.

                        s3Location -> (structure)
                            Contains the S3 location of the data source.

                            uri -> (string)
                               The S3 URI of the data source.

                        type -> (string)
                            The type of the location of the data source.

       output -> (structure)
          Contains the response generated from querying the knowledge base.

          text -> (string)
              The response generated from querying the knowledge base.

       sessionId -> (string)
          The unique identifier of the session. Reuse the same value  to  con-
          tinue the same session with the knowledge base.



                                                       RETRIEVE-AND-GENERATE()
